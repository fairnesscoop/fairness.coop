<!doctype html><html lang=fr-fr><head><meta charset=utf-8><title>SvelteJS, plus qu'une simple alternative à React, Vue ou Angular - Fairness</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content><meta name=description content="Dans cet article je vous fais un retour d'expérience sur l'utilisation de SvelteJS, une migration d'application anciennement React. Nous verrons quels sont ses avantages."><meta property="og:description" content="Dans cet article je vous fais un retour d'expérience sur l'utilisation de SvelteJS, une migration d'application anciennement React. Nous verrons quels sont ses avantages."><meta property="og:title" content="SvelteJS, plus qu'une simple alternative à React, Vue ou Angular"><meta name=twitter:title content="SvelteJS, plus qu'une simple alternative à React, Vue ou Angular"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/menu.css><link rel=stylesheet href=/css/list.css><link rel=stylesheet href=/css/print.css media=print><link rel=stylesheet href=/css/blog.css><link rel=stylesheet href=/css/single-post.css><link rel=stylesheet href=/css/team.css><link rel=apple-touch-icon sizes=57x57 href=/icon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/icon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/icon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/icon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/icon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/icon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/icon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/icon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/icon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/icon/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/icon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/icon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/icon/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/icon/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"></head><body><header><section class=banner><div class=logo><a href=/><img src=/image/fairness_logo.svg alt=Fairness></a></div><div class=concevoir><a href=/><span class=sitename>Fairness</span><br><span class=tagline>Concevoir responsable</span></a></div><div class="push menu"><a href=#menu><img src=/image/menu-blue.svg alt=Menu></a></div><nav id=menu class=main-menu><div class=subcontainer><div class=close-menu><a href=# class=close-msg></a></div><ul class=links><div class=link><li><a href=https://fairness.coop/blog/>Blog</a></li><div class=link__bar></div></div><div class=link><li><a href=https://fairness.coop/team/>L'équipe</a></li><div class=link__bar></div></div><div class=link><li><a href=https://fairness.coop/blog/2019/creation-cooperative-conception-responsable/>La coopérative</a></li><div class=link__bar></div></div><div class=link><li><a href=https://fairness.coop/blog/2019/references/>Nos références</a></li><div class=link__bar></div></div><div class=link><li><a href=https://fairness.coop/blog/2019/notre-offre/>Notre offre</a></li><div class=link__bar></div></div><div class=link><li><a href=mailto:equipe@fairness.coop>Nous contacter</a></li><div class=link__bar></div></div><div class=link><li><a href=https://fairness.coop/nous-rejoindre/>Nous rejoindre</a></li><div class=link__bar></div></div><div class=link><li><a href=https://podcastecho.github.io/>Podcast echo</a></li><div class=link__bar></div></div><div class=link><li><a href=https://techologie.net/>Podcast techologie</a></li><div class=link__bar></div></div></ul></div></nav></section></header><section class=article-header><div class=article-header__content><h1 class=article-header__content__title>SvelteJS, plus qu'une simple alternative à React, Vue ou Angular</h1><div class=article-header__date-and-time><div class=date><img src=/image/date.svg alt><p>02/04/2020</p></div><div class=time><img src=/image/read-time.svg alt class=read-time><p>Temps de lecture : 9 minutes.</p></div></div></div><div class=article-header__image><picture>
<source srcset=/blog/images/svelte.png><source srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==" sizes=100%><img src=/blog/images/svelte.png alt></picture></div></section><main><div class=article-content><p class=description>Dans cet article je vous fais un retour d'expérience sur l'utilisation de SvelteJS, une migration d'application anciennement React. Nous verrons quels sont ses avantages.</p><p>Dans cet article je voudrais vous faire un retour d&rsquo;expérience sur une techno que j&rsquo;ai découverte il y a peu : SvelteJS !
Et pour spoiler un peu, je dois dire que cette techno front est absolument incroyable ! Et c&rsquo;est un dev back qui le dit &mldr;</p><h2 id=contexte>Contexte</h2><p>Actuellement en mission chez <a href=https://www.radiofrance.fr/>Radio France</a> depuis plusieurs mois, je suis en charge de refondre complètement l&rsquo;intranet permettant, entre autre, de visualiser et de gérer les différents flux de la Maison de la Radio.</p><p>La refonte s&rsquo;est portée sur les mêmes choix technologiques que l&rsquo;existant, à savoir un backend en <a href=https://nodejs.org>Node.js</a> (&lt;3) et un front en <a href=https://fr.reactjs.org/>React</a>. Cela m&rsquo;allait parfaitement étant à l&rsquo;aise sur les deux technos.</p><p>Vous allez peut-être vous demander pourquoi faire une refonte en réutilisant les mêmes technos ?</p><p>C&rsquo;est un outil qui est passé d&rsquo;équipes en équipes et devenait de plus en plus difficile à maintenir. Le code n&rsquo;avait aucune cohérence, était très compliqué à installer (même localement), le choix d&rsquo;architecture était trop complexe, code incompréhensible etc.
Ma mission était (et est toujours) de reprendre cet outil de zéro pour tout remettre au propre.</p><h2 id=qu-est-ce-que-sveltejs>Qu&rsquo;est ce que SvelteJS ?</h2><p>Je ne vous ferai pas de présentation détaillée, d&rsquo;autres l&rsquo;ont déjà fait et ce ne serait pas forcément le plus pertinent. Je tenais juste à vous faire mon retour d&rsquo;expérience et comment j&rsquo;ai réussi à convaincre Radio France de partir sur une technologie toute récente.</p><p>Quelques ressources utiles si vous voulez découvrir ce language:</p><ul><li><a href=https://medium.com/@nilmanduil/svelte-js-le-compilateur-en-guise-de-framework-5473f1d727f8>Svelte.js : introduction au “compilateur en guise de framework”</a></li><li><a href=http://www.meanjs.fr/svelte-la-librairie-le-compilateur-plutot-qui-sattaque-a-react-et-vue/>Svelte.js : le compilateur qui s&rsquo;attaque à React et Vue</a></li></ul><h2 id=prise-en-main>Prise en main</h2><p>J&rsquo;ai découvert SvelteJS lors d&rsquo;une conférence donnée à la <a href=https://www.dotjs.io/schedule/dotjs-2019>dotJS 2019</a>. Cette présentation m&rsquo;a vraiment emballé et je voulais absolument tester cette énième technologie front. Encore une, me direz vous. Oui mais pas n&rsquo;importe laquelle !</p><p>Ayant une bonne connaissance de React, la prise en main a été assez rapide. J&rsquo;ai suivi le tutoriel sur le <a href=https://svelte.dev/tutorial/basics>site officiel de Svelte</a> et je dois dire que j&rsquo;ai été vraiment agréablement surpris.
C&rsquo;est la première fois que je trouve une documentation aussi intuitive et interactive. Cela m&rsquo;a permis de monter rapidement en compétence.</p><p>Très enthousiaste à l&rsquo;idée de me faire la main dessus, j&rsquo;ai pris <a href=https://github.com/fairnesscoop/permacoop>un projet interne</a> de notre coopérative codé initialement en React pour le migrer en SvelteJS.
La migration a été assez simple et rapide à faire, le projet étant encore en cours de développement. Il m&rsquo;a fallu une petite semaine pour reprendre tout ce qui avait été fait.</p><h2 id=intégration-chez-radio-france>Intégration chez Radio France</h2><h3 id=présentation>Présentation</h3><p>Après m&rsquo;être fait la main sur <a href=https://github.com/fairnesscoop/permacoop>le projet interne</a>, je me suis dit que ce serait bien d&rsquo;en parler à mon équipe chez Radio France.
Petite réunion technique au cours de laquelle j&rsquo;ai pu faire une présentation et expliquer quels seraient les avantages d&rsquo;une migration vers SvelteJS :</p><ul><li>Simplicité de prise en main du language.</li><li>3 fois moins de code à écrire (et ce n&rsquo;est pas une blague, voir plus bas pour les chiffres) et donc maintenance plus simple.</li><li>Légèreté du code : Svelte est un compilateur qui génère en <em>vanilla Javascript</em> uniquement le code dont vous avez besoin. Inutile donc de charger l&rsquo;ensemble du framework. Svelte porte bien son nom !</li><li>Rapidité : 30 à 40 fois plus performant que React, Vue ou Angular. La raison majeure ? Il n&rsquo;y a pas de DOM virtuel.</li></ul><p>Cette réunion, qui a convaincu l&rsquo;équipe, a débouché sur la réalisation d&rsquo;une preuve de concept d&rsquo;une semaine de l&rsquo;intranet sur lequel je travaillais depuis le début de ma mission (4 mois de développement dessus).</p><h3 id=preuve-de-concept>Preuve de concept</h3><p>Pour réaliser cette preuve de concept, en plus de <a href=https://svelte.dev/>Svelte</a>, je me suis appuyé sur <a href=https://sapper.svelte.dev/>Sapper</a> qui permet de builder des applications très rapidement, faire du SSR (Server Side Rendering), etc.</p><p>L&rsquo;utilisation combinée de ces deux technos est d&rsquo;une facilité déconcertante. Un exemple simple : <strong>le routing</strong>.</p><p>Qui n&rsquo;a jamais perdu du temps à mettre en place tout un système de routing sur un projet React ou Vue ? Installation de librairies, configuration, mapping d&rsquo;un composant à sa route etc.</p><p>Avec <strong>Sapper</strong> rien de plus simple. Toutes les vues accessibles se trouvent dans le dossier <code>routes</code>. Sapper se base sur le nom d&rsquo;un fichier pour construire son URL.</p><p>Ex: <code>./routes/blog/posts.svelte</code> sera accessible via <code>blog/posts</code>.</p><p>Par dessus tout ça, il est également possible de rajouter des règles d&rsquo;accès, grâce aux regex notamment, directement sur le nom des fichiers.</p><p>Ex: <code>./routes/blog/posts/[id([0-9]+)].svelte</code> sera accessible via <code>blog/posts/12</code>. Si la regex ne matche pas notre URL, une 404 sera alors retournée.</p><p>A la fin de la semaine j&rsquo;avais terminé la partie visualisation des données. La rapidité de la migration, la simplicité du code a convaincu le client de faire une bascule complète de l&rsquo;intranet.</p><p>En plus de la réalisation de cette preuve de concept, il faut dire que le fait que le créateur soit <a href=https://github.com/Rich-Harris>Rich Harris</a> développeur au <a href=https://www.nytimes.com/>New York Times</a>, a un peu facilité les choses, les corps de métiers étant assez similaires.</p><h3 id=migration>Migration</h3><p>Quelques chiffres forcément beaucoup plus parlants que de longs discours. À fonctionnalités équivalentes:</p><p>Nombre de lignes de codes:</p><ul><li>React: ~29000</li><li>SvelteJS: ~8000</li></ul><p>Temps passé:</p><ul><li>React : ~2 mois</li><li>SvelteJS: 2 semaines (aussi dû au fait que je connaissais déjà le métier)</li></ul><p>Qu&rsquo;est ce qui peut justifier une aussi grande différence ? Il y a plusieurs raisons, mais celle que je retiens principalement est le fait de se passer de <a href=https://redux.js.org/>Redux</a>. SvelteJS permet d&rsquo;avoir une gestion d&rsquo;état simplifiée et nécéssite donc moins de code, moins de configuration etc.</p><p>Bien que jeune, cette technologie est assez mature pour pouvoir être utilisée en production. Nous n&rsquo;avons rencontré aucun problème lors du déploiement de l&rsquo;intranet.</p><h3 id=exemple-de-code>Exemple de code</h3><p>Pour des raisons de confidentialité, je ne peux vous partager du code provenant de l&rsquo;application du client. Si vous voulez un exemple complet et concret vous pouvez regarder et vous inspirer du projet <a href=https://github.com/fairnesscoop/permacoop>Permacoop</a>, un ERP open-source (encore en cours de développement) éco-conçu pour les coopératives.</p><p>Le <a href=https://github.com/fairnesscoop/permacoop/tree/master/server>serveur</a> a été développé avec le framework <a href=https://nestjs.com/>NestJS</a> et le <a href=https://github.com/fairnesscoop/permacoop/tree/master/client>client</a> avec SvelteJS. Toute contribution est bien évidement la bienvenue :)</p><h2 id=la-suite>La suite ?</h2><p>Cette migration s&rsquo;est avérée être une véritable réussite et est toujours en cours de développement pour être iso-fonctionnelle à l&rsquo;ancienne plateforme.</p><p>L&rsquo;ensemble de l&rsquo;équipe est convaincu par cette techno et prend même du plaisir à travailler dessus. Certains devs back, qui ne voulaient pas entendre parler de front, s&rsquo;y mettent également.</p><p>Ce projet va servir de pilote pour potentiellement migrer toutes les applications <em>frontend</em> de Radio France (France Inter, France Culture, France Musique, France Bleu, Fip, Mouv), aujourd&rsquo;hui en React vers du SvelteJS.
Un grand changement à venir ? En tout cas, cette technologie fait l&rsquo;unanimité grâce à sa performance, son poids léger et sa facilité de prise en main.</p><p>Je vous recommande vraiment de suivre avec attention l&rsquo;évolution de ce projet. Ce n&rsquo;est pas pour rien qu&rsquo;il fait partie des <a href=https://2019.stateofjs.com>technos les plus plébiscitées de 2019</a>.</p></div><div class=article-author><div class=presentation><div class=img><img src=/team/images/mathieu-marchois.png alt="Photo de profil de Mathieu Marchois"></div><div class=presentation-details><p class=name>Mathieu Marchois</p><p class=position>Développeur senior</p></div></div><div class=social-network><a class=social-network-link href=https://github.com/mmarchois><img src=/image/GitHub.svg alt></a>
<a class=social-network-link href=https://twitter.com/mmarchois><img src=/image/Twitter.svg alt></a></div></div></main><div class=blue-impact><div>1.35 <span class=unit>gCO2e</span></div></div><footer><ul><li><a href=/blog/>Blog</a></li><li><a href=mailto:equipe@fairness.coop>Contact</a></li><li><a href=/legal/>Mentions légales</a></li></ul></footer></body></html>